<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>互联网技术架构的启示</h3><p>最近，“金融电子化”的微信(fcmag1993)中发表了中国建设银行信息技术管理部副总经理王申科撰写的一篇精彩文章“互联网技术架构给我们的启示”，他从商业银行IT从业人员的角度，总结和分析了阿里、谷歌等互联网企业的技术路线、架构和管理，从基本计算机理论与模型、互联网应用的技术基础、商业银行应用系统的技术基础、对银行业的启示等几个方面做了深入的讨论。</p>
<p>在“基本计算机理论与模型”一节中，王申科提到了分布式系统、CAP理论（一致性、可用性、分区容忍性）、ACID模型（原子性、一致性、隔离性、持久性）和SOA面向服务架构等，其中分析了有别于ACID的BASE模型：</p>
<blockquote> 
 <p>BASE则是另外一个理念和思路，Basically Available为基本可用，Soft-state为软状态/柔性事务，EventualConsistency 为最终一致性。BASE模型完全不同于ACID模型。牺牲高一致性，获得可用性。对一个“基本可用”系统来说，需要把系统中的所有功能点进行优先级的划分，对于系统内部的状态，采用一种柔性的策略，假如系统内分布了3个功能模块，允许它们在某一时刻3个模块的状态可以不一致。然后通过业务和技术的手段，例如采用异步机制或者批处理方式，来保证系统通过柔性状态一致来获得可用性。当前互联网应用在业务允许范围里普遍参考BASE 模型来进行系统设计。</p> 
</blockquote>
<p>对于分布式系统，他以Google为例：</p>
<blockquote> 
 <p>Google在构建搜索系统时，第一次将分布式系统和互联网结合起来，用分布式系统来解决互联网问题。Google的分布式系统设计有几个重要的特征：视失败为常态；重视横向伸缩性；预测性能，追求低延迟，廉价的硬件和软件，推崇重用，灵活设计，加入足够的监测点和调试功能来帮助日后的调试，优先虚拟计算。 Google的这些设计思想，成为互联网应用开发事实上的标准和规范。</p> 
</blockquote>
<p>对于“互联网应用的技术基础”，王申科总结了几个方面：</p>
<ul> 
 <li>基于x86服务器集群和开源软件搭建技术设施，分布式架构+开源软件是其基本特征。</li> 
 <li>积极进取的创新精神。以阿里巴巴为例，短短几年先后自主开发了许多技术产品。</li> 
 <li>基于场景的需求分析和应用开发。</li> 
 <li>平台化建设理念，提高开发效率和系统质量。</li> 
 <li>自动化部署和运维体系。</li> 
 <li>成本控制意识和自主掌控能力。</li> 
</ul>
<p>其中的”基于场景的需求分析和应用开发”,他分析了阿里巴巴的开发原则：</p>
<blockquote> 
 <p>SOA服务化，所有系统采取服务化模式，系统之间进行必要的分拆和隔离，通过服务调用和消息通知的方式进行协同；BASE和ACID相结合，能够采取BASE模式的业务一定是异步方式，而核心的账务信息一定是采取实时方式，保证ACID；无单点设计、可监控、可测试、可回滚、可禁用、短事务与柔性事务、异步设计、无状态、使用成熟技术、业务分等级、业务可降级、多数据中心部署。</p> 
</blockquote>
<p>对于“自动化部署和运维体系”，王申科总结了阿里巴巴的经验：</p>
<blockquote> 
 <p>开发了一套资产信息采集程序和采集流程，将服务器、网络设备、存贮等资产信息，采集到数据库中。应用系统不再关心具体的资源信息，无论资产还是资源都是处于动态的变化中。通过资产信息和资源的变更流程，资产信息，硬件信息和应用信息的任何变更，必须通过系统进行变更记录，详细记录每个设备的生命周期里的各种变化。变更流程和工作流系统对接，通过工作流系统进行分级审批之后，才能进行相应的变更。以自动化采集为核心的资产管理体系，主动监控确保资源池一致性，保证资产信息的准确性。对资源进行回收和重新分配的时候，先要确保资源的状态。对于资源的数据，必须采取主动监控的做法，确保数据的可靠性，其具体做法是每天对设备的信息进行重新抓取，并与数据库里的状态进行匹配，发现不一致的数据，报警并锁定资源，不允许对资源进行任何操作。通过这种自动化的方式，杜绝人为错误，确保资产数据和资源池信息的数据一致性，是资源池可信的重要保证。</p> 
</blockquote>
<p>在“商业银行应用系统的技术基础”方面，他分析了以下方面：</p>
<ul> 
 <li>通用信息技术和商业化软件是基础，集中式系统部署。</li> 
 <li>面临完全依赖供应商的被动局面。</li> 
 <li>交易系统突出资金安全和核算的准确性，数据一致性要求高，客户体验差。</li> 
</ul>
<p>其中对于第2点，王申科认为：</p>
<blockquote> 
 <p>商业银行在信息技术支持和保障能力、技术进步和创新能力、技术采购议价能力、设备升级周期和扩容、成本控制等方面，很大程度上依赖信息技术供应商。从历史看，商业银行应用系统大多采用三层架构：服务层、应用层和数据层，最近几年逐步加入ESB层。每层采用双机或集群技术支撑业务应用。早期以纵向（scale-up）升级扩容为主，现在逐步采用横向（scale-out）扩容方式或虚拟化方式。这种历史发展过程中形成的架构和技术路线，很难适应发展迅速的互联网时代应用需求。</p> 
</blockquote>
<p>在“对银行业的启示方面”，王申科总结了以下几个方面：</p>
<ul> 
 <li>用互联网的思维，认真思考和规划商业银行的信息化建设工作。</li> 
 <li>引入分布式架构和开源软件，构建集中式和分布式共存的架构体系。</li> 
 <li>突出核心能力，理性看待“去IOE”。</li> 
 <li>从设备供应商向服务供应商转型。</li> 
 <li>积极主动与互联网公司开展合作。</li> 
</ul>
<p>他认为：从应对市场的整体效果看，互联网分布式架构明显优于商业银行传统集中式架构，核心差别在于两类不同的应用架构理念，以及两类不同的技术团队管理、支持方式。因此，从应用入手，着手调整商业银行传统的技术架构和供应商管理方式，制定商业银行的技术架构设计规范和部署策略，实现架构的科学管理。仅从技术角度看，“去IOE”的实质是分布式架构和集中式架构、开源软件和商用软件的选择问题，各自的利弊见仁见智。商业银行IT从业人员的核心竞争力主要体现在对银行业务理解，以及对信息技术的熟练应用和应用架构设计能力，用信息化支持、推动和引领业务创新。</p>
<p>对互联网架构领域感兴趣的读者可以关注即将于2014年4月25~27日在北京国际会议中心召开的QCon北京2014大会，专题包括<a href="http://www.qconbeijing.com/node/452">知名网站案例分析</a>、<a href="http://www.qconbeijing.com/node/450">扩展性、可用性与高性能</a>、<a href="http://www.qconbeijing.com/node/437">云计算服务探秘</a>、<a href="http://www.qconbeijing.com/node/441">大数据处理与大数据应用</a>等，许多讲座都与架构相关。读者可点击大会<a href="http://www.qconbeijing.com/">主页</a>查看详情。</p><br><br><br><br><br><br></body></html>