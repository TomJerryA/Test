<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>PostgreSQL再次引入了HStore</h3><p>PostgreSQL 9.4将会再次引入HStore作为文档类型数据的可选列类型。它取代了PostgreSQL在版本9.0中引入的JSON支持。作为一种基于字符串的表示，JSON比二进制结构的HStore要慢很多。同时通过添加布尔类型和整型的支持，新的HStore在语义上等价于JSON。在实际应用中，这样做能够仅通过一个类型转换操作符完成不同格式之间的双向转化。</p>
<p>最初的HStore格式要回溯到2003年，那时候引入它还仅仅是为了存储键-值对。在这个版本之前，我们还不能使用它来存储类树结构的数据，例如从JSON中发现的那些。</p>
<p>早期的性能测试结果很理想。根据<a href="http://www.sai.msu.su/~megera/postgres/talks/hstore-dublin-2013.pdf">Oleg Bartunov和Teodor Sigaev提供的介绍</a>，PostgreSQL的新HStore格式在数据加载测试上击败了MongoDB，结果是76秒对8分钟。使用良好调整的索引读取时，PostgreSQL运行测试花费了0.672毫秒，而MongoDB花费了1毫秒。当然，这些报告都是PostgreSQL提供的，还需要由外部的研究者验证。</p>
<p><b>查看英文原文</b>：<a href="http://www.infoq.com/news/2013/11/Nested-Hstore">Reintroducing Hstore for PostgreSQL</a></p><br><br><br><br><br><br></body></html>