<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>Fix ASP.NET Browser Detection Error in Internet Explorer 11</h3><p><a href="http://msdn.microsoft.com/en-us/library/ie/bg182636(v=vs.85).aspx">Internet Explorer 11</a> has a bug which prevents ASP.NET applications from running properly. Your users will view broken layout and JavaScript errors, which occurs due to a bug in the browser detection under .NET Framework 4.<br /> <br /> You can easily track down the browser detection problem by using <a href="http://msdn.microsoft.com/en-us/library/ie/gg589512(v=vs.85).aspx">F12 development tool</a> available with Internet Explorer, which modifies the user-agent string sent by the browser. In order to work with the tool, you need to press F12, click the Emulation button located at the bottom left and choosing Internet Explorer 9 from the dropdown list. You will be able to see whether the page renders properly immediately after page refresh.</p>
<p>In order to fix the above issue, you need to install <a href="http://www.microsoft.com/en-us/download/details.aspx?id=30653">.NET Framework 4.5</a> on the server, which has built-in solution for this problem. However, if you are running Windows 2003 Server then you will have to install patches provided by Microsoft to update browser detection problem in older versions of .NET Framework. Alternatively, you can directly update the application by opening the App_Browsers folder and adding a .browser file with correct definitions as shown below.</p>
<p><code> </code></p>
<p><code>&lt;browsers&gt;<br /> &nbsp; &lt;browser id=&quot;IE11&quot; parentID=&quot;Mozilla&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;identification&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;userAgent match=&quot;Trident/(?'layoutVersion'[7-9]|0*[1-9]\d+)(\.\d+)?;(.*;)?\s*rv:(?'version'(?'major'\d+)(\.<br /> <br /> (?'minor'\d+)))&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;userAgent nonMatch=&quot;IEMobile&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/identification&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;capture&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;userAgent match=&quot;Trident/(?'layoutVersion'\d+)&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/capture&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;capabilities&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;browser&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;IE&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;layoutEngine&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;Trident&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;layoutEngineVersion&quot;&nbsp; value=&quot;${layoutVersion}&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;extra&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;${extra}&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;isColor&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;letters&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;${letters}&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;majorversion&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;${major}&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;minorversion&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;${minor}&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;screenBitDepth&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;8&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;type&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;IE${major}&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;version&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;${version}&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/capabilities&gt;<br /> &nbsp; &lt;/browser&gt;<br /> &nbsp; <br /> &nbsp; &lt;!-- Mozilla/5.0 (Windows NT 6.3; Trident/7.0; rv:11,0) like Gecko --&gt;<br /> &nbsp; &lt;browser id=&quot;IE110&quot; parentID=&quot;IE11&quot;&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;identification&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;majorversion&quot; match=&quot;11&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/identification&gt;<br /> &nbsp; <br /> &nbsp;&nbsp;&nbsp; &lt;capabilities&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;ecmascriptversion&quot;&nbsp;&nbsp;&nbsp; value=&quot;3.0&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;jscriptversion&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;5.6&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;javascript&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;javascriptversion&quot;&nbsp;&nbsp;&nbsp; value=&quot;1.5&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;msdomversion&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;${majorversion}.${minorversion}&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;w3cdomversion&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;1.0&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;ExchangeOmaSupported&quot; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;activexcontrols&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;backgroundsounds&quot;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;cookies&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;frames&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;javaapplets&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;supportsCallback&quot;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;supportsFileUpload&quot;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;supportsMultilineTextBoxDisplay&quot; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;supportsMaintainScrollPositionOnPostback&quot; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;supportsVCard&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;supportsXmlHttp&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;tables&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;supportsAccessKeyAttribute&quot;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;tagwriter&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;System.Web.UI.HtmlTextWriter&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &lt;capability name=&quot;vbscript&quot;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; value=&quot;true&quot; /&gt;<br /> &nbsp;&nbsp;&nbsp; &lt;/capabilities&gt;<br /> &nbsp; &lt;/browser&gt;<br /> &lt;/browsers&gt;</code></p>
<p><code> </code></p>
<p>&nbsp;</p>
<p>&nbsp;</p><br><br><br><br><br><br></body></html>