<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>Gulp的目标是取代Grunt</h3><p><a href="http://www.wearefractal.com/">Fractal</a>公司积极参与了数个流行Node.js模块的开发，它最近发布了一个新的构建系统<a href="http://gulpjs.com">gulp</a>，希望能够取代Grunt，成为最流行的JavaScript任务运行器。</p>
<p>根据gulp的文档，它努力实现的主要特性是：</p>
<ul> 
 <li>易于使用：采用代码优于配置策略，gulp让简单的事情继续简单，复杂的任务变得可管理。</li> 
 <li>高效：通过利用node.js强大的流，不需要往磁盘写中间文件，可以更快地完成构建。</li> 
 <li>高质量：gulp严格的插件指导方针，确保插件简单并且按你期望的方式工作。</li> 
 <li>易于学习：通过把API降到最少，你能在很短的时间内学会gulp。构建工作就像你设想的一样：是一系列流管道。</li> 
</ul>
<p>Gulp通过流和代码优于配置策略来尽量简化任务编写的工作。这看起来有点“像jQuery”的方法，把动作串起来创建构建任务。早在UNIX的初期，流就已经存在了。流在Node.js生态系统中也扮演了重要的角色，因此用gulp编写任务也可看作是用Node.js编写任务。当使用流时，gulp去除了中间文件，只将最后的输出写入磁盘，整个过程因此变得更快。gulp采用代码优于配置的策略，让简单的事情继续简单，将复杂的任务变得可管理。</p>
<p>与其他任务运行器一样，每个任务都可以是一个简单的工作单元：</p>
<pre>
var gulp = require('gulp'); 
var uglify = require('gulp-uglify');
gulp.task('scripts', function() {   
   return gulp
      .src(['src/js/**/*.js'])
      .pipe(uglify())
      .pipe(gulp.dest('build/js'));     
});
</pre>
<p>或者有任务依赖：</p>
<pre>
gulp.task('default-task', function(){
   gulp.run('scripts'); 
   // watch files and run scripts if they change 
   gulp.watch(&quot;./src/**/*.js&quot;, function(event { 
      gulp.run('scripts'); 
   });
); </pre>
<p>关于Grunt，对它的抱怨除了过于冗长，还包括大量的插件做了他们不该做的工作。Mark Goodyear在<a href="http://markgoodyear.com/2014/01/getting-started-with-gulp/">一篇博客</a>中举了个例子，Grunt的imagemin插件不仅压缩图片，同时还包括缓存功能。他表示，在gulp中，缓存是另一个插件，可以被别的插件使用，这样就促进了插件的可重用性。</p>
<p>查看<a href="https://github.com/gulpjs/gulp/network">gulp的代码库活动</a>以及<a href="https://github.com/gulpjs/gulp/stargazers">加星关注</a>的人数，可以发现这个构建系统已经开始获得动力。它同时也引起了JavaScript社区的兴趣：Yeoman的首席开发者<a href="https://twitter.com/addyosmani">Addy Osmani</a>，提交了<a href="https://github.com/yeoman/yeoman/issues/1232">一篇issue</a>，向团队成员介绍gulp并评估其替换当前构建系统。<a href="https://twitter.com/sindresorhus">Sindre Sorhus</a>是Yeoman研发团队成员和NPM的主要贡献者，写了一篇<a href="http://robo.ghost.io/getting-started-with-gulp-2/">关于gulp的博客</a>并在Twitter上提到gulp：“比Grunt速度更快、配置更少”。</p>
<p><strong>原文英文链接：</strong><a href="http://www.infoq.com/news/2014/01/gulp">Gulp Aiming to Dethrone Grunt</a></p>
<hr />
<p>感谢<a href="http://www.infoq.com/cn/author/梅雪松">梅雪松</a>对本文的审校。</p>
<p>给InfoQ中文站投稿或者参与内容翻译工作，请邮件至<a href="mailto:editors@cn.infoq.com">editors@cn.infoq.com</a>。也欢迎大家通过新浪微博（<a href="http://www.weibo.com/infoqchina">@InfoQ</a>）或者腾讯微博（<a href="http://t.qq.com/infoqchina">@InfoQ</a>）关注我们，并与我们的编辑和其他读者朋友交流。</p><br><br><br><br><br><br></body></html>