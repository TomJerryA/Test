<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>Presto即服务：AWS上的交互式SQL查询</h3><p>作为<a href="https://www.facebook.com">Facebook</a>公司的一项可用作在PB级规模的数据上执行交互式SQL查询的技术，<a href="http://prestodb.io/">Presto</a>现在已经迈出了步入主流应用的第一步。大数据创业公司<a href="http://www.qubole.com/">Qubole</a>日前发布了与<a href="http://aws.amazon.com/redshift/">Amazon Web Services</a>集成的<a href="http://info.qubole.com/presto-alpha-program">Presto即服务alpha版本</a>。</p>
<p>这套新系统与目前已经集成的Hadoop、Hive以及Pig，都属于Qubole公司不断发展壮大的平台<a href="http://www.qubole.com/features/">Qubole Data Service</a>（QDS）中的一部分。由于Presto原生集成了Hive、Hbase和关系型数据库，因此它的这种特性使得它非常适合这类管理服务。作为Qubole公司的联合创始人，<a href="https://twitter.com/ashishthusoo">Ashish Thusoo</a>和<a href="https://twitter.com/jsensarma">Joydeep Sen Sarma</a>曾创建了Hive，并且把HBase带到了Facebook，因此对于他们来说，这一步看起来顺理成章。这项服务的一个主要用例就是通过查询Hive表以取得存储在S3上的数据，这样一来QDS的用户就可以很方便地基于这些表执行查询操作了。Qubole目前的服务都是以AWS为中心构建的，原因正如Ashish所说，“这是由我们目前的需求决定的”。Qubole将自己定位为昂贵的数据仓库系统的替代品，就像Qubole的工程副总裁Shrikanth Shankar所说，“对于那些之前依赖昂贵的商业技术进行快速分析工作的用户来说，Presto将为他们带来巨大的价值。”</p>
<p>在大数据领域内，Presto实际上是一项相对较新的技术。Facebook的这个项目开始于2012年秋，并在<a href="http://gigaom.com/2013/06/06/facebook-unveils-presto-engine-for-querying-250-pb-data-warehouse/">2013年上半年</a>正式上线，最终在<a href="https://www.facebook.com/notes/facebook-engineering/presto-interacting-with-petabytes-of-data-at-facebook/10151786197628920">2013年11月完全开源</a>。Presto背后所使用的执行模式与Hive有根本的不同，它没有使用MapReduce，这一点与其他SQL查询引擎（例如<a href="http://www.cloudera.com/content/cloudera/en/home.html">Cloudera</a>的<a href="http://www.cloudera.com/content/cloudera/en/products-and-services/cdh/impala.html">Impala</a>和<a href="http://www.berkeley.edu/">UC Berkeley</a>的<a href="https://github.com/amplab/shark">Shark</a>）很像。其中的关键是所有的处理都在内存中完成，正如Ashish所说，“Presto更适合运行在配有更大内存的实例上。”这也是为什么Presto能够获得比Hive低几个数量级延迟的主要原因之一。但是由于<a href="http://hortonworks.com/labs/stinger/">Stinger项目</a>给Hive 12带来的性能改善，因此Presto与Hive 12间孰优孰劣目前尚且不明，正如Ashish所描述的一样：</p>
<blockquote> 
 <p>Hive肯定也会变得更快。我们已经进行了一些初步的测试，很快就会在博客中公布测试的结果。</p> 
</blockquote>
<p>就其可扩展性方面来说，应用在Facebook的300PB规模的数据仓库系统中的这一事实充分证明了它的可靠性。另外其他一些公司，例如<a href="https://www.airbnb.com/">AirBnb</a>和<a href="https://www.dropbox.com/">Dropbox</a>，也都开始采用Presto，“在我们的绝大多数用例中，它都比Hive要快一个数量级”，Dropbox的线上分析经理Christopher Gutierrez如是说。</p>
<p>伴随着Qubole这个新服务的发布，Presto社区将会进一步发展壮大，就连Siva Narayanan这样的Qubole开发者都在<a href="https://groups.google.com/forum/#!topic/presto-users/N9DbKmBSER0">Presto群组</a>中表示他们“打算做Presto王国中的好市民，并且期待着为Presto项目的主干贡献补丁和功能”。凭借着<a href="https://github.com/facebook/presto">GitHub上超过2000颗星和350次的分支</a>，Presto项目已经变得比其他类似的并且更早的开源项目（例如<a href="https://github.com/cloudera/impala">Impala</a>）更为流行。</p>
<p><strong>查看英文原文：</strong><a href="http://www.infoq.com/news/2014/01/presto-aws-qubole">Presto即服务：AWS上的交互式SQL查询</a></p>
<hr />
<p>感谢<a href="http://www.infoq.com/cn/author/梅雪松">梅雪松</a>对本文的审校。</p>
<p>给InfoQ中文站投稿或者参与内容翻译工作，请邮件至<a href="mailto:editors@cn.infoq.com">editors@cn.infoq.com</a>。也欢迎大家通过新浪微博（<a href="http://www.weibo.com/infoqchina">@InfoQ</a>）或者腾讯微博（<a href="http://t.qq.com/infoqchina">@InfoQ</a>）关注我们，并与我们的编辑和其他读者朋友交流。</p><br><br><br><br><br><br></body></html>