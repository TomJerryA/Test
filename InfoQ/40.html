<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>Vagrant 1.6发布，支持Docker Containers</h3><p>最新发布的Vagrant 1.6版本提供了<a href="http://www.vagrantup.com/blog/feature-preview-vagrant-1-6-docker-dev-environments.html">对Docker开发环境的支持</a>。此前，Vagrant支持的虚拟化环境有VirtualBox、VMware和AWS等。</p>
<p>本次更新后，Vagrant用户可以将Docker container作为虚拟机管理的操作对象，在自己的工作流中使用。Docker provider支持来自Dockerfiles的容器（创建新容器的场景）以及来自<a href="https://index.docker.io/">Docker Index</a>的repo。Docker Index目前已经积累了大量预配置的repo，包括官方的Ubuntu、CentOS和Fedora系统镜像，以及预装了MySQL、Java或MongoDB环境的系统。</p>
<p>新版Vagrant还包含了两个新指令：docker-logs用于展示容器的日志，docker-run用于在容器中执行指定的命令。在对Linux containers支持不佳的OS X和Windows等环境上，Vagrant的做法是自动将容器跑在一个代理Linux虚机上并帮用户自动管理，用户无需专门为此进行安装配置。</p>
<p>随着<a href="http://www.infoq.com/news/2014/05/docker_0_11">Docker逐渐迈向1.0版</a>，越来越多的工具开始支持Docker。就在几周前，红帽刚刚<a href="http://www.redhat.com/about/news/press-archive/2014/4/linux-container-innovations">宣布了几个跟Linux container有关的新项目</a>，包括流式应用交付以及基于Docker的跨裸机、虚机、私有云和公有云的系统管理体系。Google基础架构部副总裁Eric Brewer对Linux container做了如下评论：</p>
<blockquote> 
 <p>Google的生产环境已经在大量使用Linux应用容器。Linux容器的运行时隔离以及部署的灵活性都非常出色，既减少了管理分布式应用的复杂度，又增加了我们整体的运维效率。</p> 
</blockquote>
<p>Vagrant 1.6还加入了一些其他方面的<a href="http://www.vagrantup.com/blog/vagrant-1-6.html">新特性</a>，其中有两点也很值得关注：</p>
<ol> 
 <li>Windows客户机：在Vagrant 1.6中，用户可以在Vagrant环境中（VirtualBox、Hyper-V、EC2等）使用PowerShell脚本、Chef、Puppet等工具来<a href="http://www.vagrantup.com/blog/feature-preview-vagrant-1-6-windows.html">为Windows客户机进行软件的安装配置</a>。Windows客户机上的vagrant rdp相当于Linux上的vagrant ssh，用户可以用该指令对Windows环境进行单命令的远程操作。微软OpenTech公司专门提供了一个<a href="http://vagrantbox.msopentech.com/">内含Windows评估版的Vagrant Hyper-V镜像</a>。</li> 
 <li>全局状态控制：Vagrant 1.6引入了<a href="http://www.vagrantup.com/blog/feature-preview-vagrant-1-6-global-status.html">global-status指令</a>，该指令可以展示本机系统下所有已创建的Vagrant环境的状态。在全局控制下，你可以通过每一个Vagrant环境的唯一识别码（uid）从任意目录下对该环境进行管理，而无需先进入该Vagrantfile所在的目录。该命令可以进行所有Vagrant操作，包括销毁、启动、挂起等。</li> 
</ol>
<p>此外，新版Vagrant还引入了一个vagrant version指令，该指令可以显示你当前的Vagrant版本，还可以在有新版本的时候提醒你升级。另外，Vagrant 1.6中的Vagrantfile可以搭载一条信息，该信息会在vagrant up后显示出来。另外，新版Vagrant还支持用LZMA格式对镜像进行压缩。</p>
<p>完整更新日志见<a href="https://github.com/mitchellh/vagrant/blob/v1.6.0/CHANGELOG.md">Github上的Changelog</a>。</p>
<p><strong>查看英文原文：</strong><a href="http://www.infoq.com/news/2014/05/vagrant-1-6-docker">Vagrant 1.6 Adds Support for Docker Containers</a></p><br><br><br><br><br><br></body></html>