<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>可移植类库（Portable Class Library）已支持Noda Time</h3><p><a href="http://noda-time.blogspot.com/2013/04/noda-time-v110-released.html">Noda Time</a>是用于.NET的高级日期/时间库，其最新版本适用于Windows 8、Windows Phone 7和Windows Phone 8。该版本还提供了NuGet包和全面的<a href="http://noda-time.googlecode.com/hg-history/1.1.x/docs/userguide/index.html">用户指南</a>。</p> 
<p>Noda Time将类型系统分为两类，即本地类型与全球类型。</p> 
<p>本地类型不会绑定到任何时区，但可能会包含一个日历组件。这与DateTimeKind被设置Unspecified的DateTime类相似。此外，Noda Time还支持只有时间或只有日期的值。</p> 
<p>全球类型基于Instant的概念。一个Instant是通用时间系统中的某个特定时刻。为了与其他系统兼容，它以时间片（tick）为单位，从世界标准时间1970年1月1日（Unix纪元）开始计算，这里每毫秒被划分为1万个时间片，从而能够支持非常高的精度。但应该指出的是，某些科学仪器能够以小到10<sup>-18</sup>秒的时间片来测量时间。</p> 
<p>诸如ZonedDateTime等类会将Instant与时区信息结合起来。与DateTimeOffset不同，ZonedDateTime包含了需要显示给用户的实际时区信息。</p> 
<p>下面这幅来自其文档的转换图展现了这些核心类型是如何关联的：</p> 
<p><img src="http://www.infoq.com/resource/news/2013/04/Noda-Time-1-1/zh/resources/1.png;jsessionid=AE44EB47B19661FDE2F2FB264CFB56E1" alt="" _href="img://null" _p="true" /></p> 
<p>与BCL相比，Noda Time的另一个优势是对历史日期的支持。BCL的DateTime类表示的最小值是公元元年。Noda Time则支持表示到大约公元前27000年，可以用于应用中对古埃及和中国的年表进行的比较。</p> 
<p>Noda Time同时支持Windows和Olson时区数据库。由于各国政府经常会修改时区相关的法律，因此Noda Time允许开发者加入较新版本的数据库。</p> 
<p>在Noda Time中，Period和Duration有着不同的含义。Duration表示一段固定长度的时间，可用时间片进行计量。而Period则是抽象的概念，例如“一个月”或“两周”。“由Period表示的时间流逝的总量并不是固定的：始于1月1日的‘一个月’，实际上比从2月1日开始的‘一个月’要长，因为2月总是比1月短。”</p> 
<p>在面向Java的Joda Time的基础上，Noda Time是为了修正<a href="http://noda-time.blogspot.com/2011/08/what-wrong-with-datetime-anyway.html">.NET日期/时间类中现存的许多问题</a>而设计的。例如，它允许开发者直接表示日期而无需时间组件，从而避免不必要的时区转化将“12月10日零点”意外地变成“12月9日晚11点”这样的问题。</p> 
<p>Noda Time提供了IClock接口以支持测试。它通过SystemClock和FakeClock实现。初始化之后就可以手动递增FakeClock，或为它设置固定步长的自动增量。</p> 
<p>Noda Time基于Apache许可提供。</p> 
<p><b>查看英文原文</b>：<a href="http://www.infoq.com/news/2013/04/Noda-Time-1-1;jsessionid=AE44EB47B19661FDE2F2FB264CFB56E1">Portable Class Library Support for Noda Time</a></p> 
<hr /> 
<p>感谢<a href="http://www.infoq.com/cn/bycategory.action;jsessionid=AE44EB47B19661FDE2F2FB264CFB56E1?authorName=臧秀涛">臧秀涛</a>对本文的审校。</p> 
<p>给InfoQ中文站投稿或者参与内容翻译工作，请邮件至<a href="mailto:editors@cn.infoq.com">editors@cn.infoq.com</a>。也欢迎大家通过新浪微博（<a href="http://www.weibo.com/infoqchina">@InfoQ</a>）或者腾讯微博（<a href="http://t.qq.com/infoqchina">@InfoQ</a>）关注我们，并与我们的编辑和其他读者朋友交流。</p> 
<p id="lastElm"></p><br><br><br><br><br><br></body></html>