<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>Discussion on Nagios Fitness for Purpose</h3><p>At a recent <a href="http://www.youtube.com/watch?v=Q9BagdHGopg">London DevOps meetup</a>, <a href="http://twitter.com/supersheep">Andy Sykes</a> launched a <a href="http://www.reddit.com/r/sysadmin/comments/1y28wy/stop_using_nagios_so_it_can_die_peacefully/">debate</a> on whether <a href="http://www.nagios.org/">Nagios</a>, a well-known application that offers monitoring and alerting services, should be replaced with a better solution.</p>
<p>Andy acknowledges that Nagios has a simple plug-in model, conceptual simplicity and reliability. But the drawbacks are greater. According to Andy, Nagios is difficult to scale, as it dos not support any kind of clustering. It is also difficult to configure, with lots of duplication between the Nagios server and the Nagios clients. Another sore point is the lack of an API to make system integration and custom dashboards creation easier tasks. In the age of the elasticity and the cloud, the need for the master to be told about a new client is also pointed out as a significant disadvantage.</p>
<p>Andy makes some proposals to deal with Nagios failings. He suggests that <a href="http://sensuapp.org/">Sensu</a> is a good fit for the monitoring problem, <a href="http://graphite.readthedocs.org/en/latest/">Graphite</a> for the graphing needs and <a href="http://flapjack.io/">Flapjack</a> for the alerting services. For the anomaly detection and user interface problems, Andy is not comfortable with any of the current offerings.</p>
<p><a href="https://laur.ie/blog/">Laurie Denness</a> is on the other side of the argument, and <a href="https://laur.ie/blog/2014/02/why-ill-be-letting-nagios-live-on-a-bit-longer-thank-you-very-much/">explains</a> why Etsy will continue to use Nagios. Laurie makes counter claims for each of Andy's arguments.</p>
<p>Laurie reports that Etsy has &quot;10,000 checks in our primary datacenter, all active, usually on 2-3 minute check intervals with a bunch on 30 seconds&quot;. They had to perform some optimization adjustments. The team enabled the <a href="http://nagios.sourceforge.net/docs/3_0/largeinstalltweaks.html">use_large_installation_tweaks</a> flag to bring the latency down. The team also disabled the CPU dynamic scaling setting on their HP and Dell servers, as Nagios does not seem to play well with the power management algorithms used by those boxes. When Etsy started to use two data centers, they chose to have a Nagios instance in each of them and used <a href="https://github.com/lozzd/Nagdash">Nagdash</a> to aggregate status and reports in a single place.</p>
<p>On the configuration front, Laurie asserts that:</p>
<blockquote>
  If you spend your day picking through Nagios config files, then you probably either love it anyway, you're doing a huge rewrite of your old config, or you're probably doing it wrong. You can easily automate this. 
</blockquote>
<p>Etsy has also been using <a href="https://github.com/xb95/nagios-api">nagios-api</a>, a third-party project that presents a REST-like JSON interface to Nagios, to automate it.</p>
<p>Laurie makes a broader point about Nagios' perceived failings in Andy's eyes. Laurie thinks that the Unix philosophy applies when working with Nagios: &quot;Many small parts, applications that do a small specific thing, which you tie together using a pipe&quot;. The fact that Nagios has a strong ecosystem around it is a strong advantage in his view.</p>
<p>Commenting on Laurie's writings, <a href="http://lethargy.org/~jesus/">Theo Schlossnagle</a> leans on the &quot;Nagios is not enough&quot; line of thinking:</p>
<blockquote>
  Reading telemetry off systems and providing deep insight into their behavior is what we need from the operations side. That is a broad task that requires analytics on the data collected. Nagios and the myriad products designed like Nagios simply do not allow for this approach. 
</blockquote><br><br><br><br><br><br></body></html>