<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>NoSQL Benchmark Compares Aerospike, Cassandra, Couchbase and MongoDB</h3><p>A recent set of benchmarks compares Aerospike, Cassandra, Couchbase and MongoDB to see how they fare when it comes to insert throughput, maximum throughput, latency and behavior during a failover.</p> 
<p><a href="http://www.thumbtack.net/about.html">Thumbtack Technology</a> has released two benchmark whitepapers with results from the comparison of several key-value stores: <a href="http://www.thumbtack.net/solutions/documents/Ultra-HighPerformanceNoSQLBenchmarking.pdf"><em>Ultra-High Performance NoSQL Benchmarking: Analyzing Durability and Performance Tradeoffs</em></a><em> (PDF) </em>and <a href="http://www.thumbtack.net/solutions/documents/NoSQLFailoverCharacteristics_000.pdf"><em>NoSQL Failover Characteristics: Aerospike, Cassandra, Couchbase, MongoDB</em></a><em> (PDF). </em>Both benchmarks attempted to test “consumer-facing applications which require extremely high throughput and low latency, and whose information can be represented using a key-value schema.”</p> 
<p>Thumbtack used an improved version of <a href="http://research.yahoo.com/node/3202"><em>Yahoo! Cloud Serving Benchmark</em></a><em> (YCSB)</em> one that is supposed to overcome some limitations reached when using very high volumes and multiple clients. The YCSB changes have been documented in the first whitepaper and committed back to the community.</p> 
<p>The NoSQL databases tested were <a href="http://www.aerospike.com/">Aerospike</a>, <a href="http://cassandra.apache.org/">Cassandra</a>, <a href="http://www.couchbase.com/">Couchbase</a> (1.8 and 2.0), and <a href="mongodb.org;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA">MongoDB</a>. The first is a commercial product, and the last is a document data store not a key-value store, but it was included because “in our experience clients often consider it for similar kinds of applications.” All databases were optimized using recommendations from the vendors backing them. The test systems used SSD storage rather than rotating disks. The whitepapers contain detailed information regarding the methodology used, the client and workload configuration, the hardware configuration, etc.</p> 
<p>Thumbtack acknowledged having “strategic and/or commercial relationships with Aerospike, Couchbase, and 10gen” and the hardware used was rented from Aerospike.</p> 
<p>We are including some of the results of the benchmarks.</p> 
<p><strong>Insert Throughput</strong></p> 
<p>The databases were loaded with initial working sets using YCSB’s loading routing which performs a number of inserts. Couchbase had good results when the working sets were loaded into memory, but it had problems loading on SSD when Couchbase 1.8 did not finish the operation and a smaller set and asynchronous mode had to be used for Couchbase 2.0. That explains the gradient blue used for it. Aerospike came second.</p> 
<p class="image-wide"><a href="$image[4].png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/04/NoSQL-Benchmark/en/resources/NoSQL-benchmark-1.png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA" _href="img://NoSQL-benchmark-1.png" _p="true" /></a></p> 
<p><strong>Maximum Throughput</strong></p> 
<p>This test used a “a strong durability model, using a dataset that, when replicated, would be significantly larger than the server’s RAM. This test is intended to model usage for transactional data that requires strong durability guarantees.”</p> 
<p>Couchbase does not appear on the graphic because it could not complete the test using synchronous replication.</p> 
<p class="image-wide"><a href="$image[9].png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/04/NoSQL-Benchmark/en/resources/NoSQL-benchmark-2.png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA" _href="img://NoSQL-benchmark-2.png" _p="true" /></a></p> 
<p>When asynchronous replication was applied, the result in memory was:</p> 
<p class="image-wide"><a href="$image[14].png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/04/NoSQL-Benchmark/en/resources/NoSQL-benchmark-3.png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA" _href="img://NoSQL-benchmark-3.png" _p="true" /></a></p> 
<p><strong>Latency/Throughput</strong></p> 
<p>The benchmarks also measured read and update latency at different levels of traffic. The next graphic includes a full view and a zoomed one for each of those:</p> 
<p class="image-wide"><a href="$image[22].png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/04/NoSQL-Benchmark/en/resources/NoSQL-benchmark-4.png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA" _href="img://NoSQL-benchmark-4.png" _p="true" /></a></p> 
<p><strong>Failover</strong></p> 
<p>Thumbtack attempted to see what happens when a node goes down, a hardware failure being simulated:</p> 
<p class="image-wide"><a href="$image[27].png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/04/NoSQL-Benchmark/en/resources/NoSQL-benchmark-5.png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA" _href="img://NoSQL-benchmark-5.png" _p="true" /></a></p> 
<p>The downtime was also measured, i.e. the time needed for the cluster the become responsive again after a failure, all databases showing reasonable values:</p> 
<p class="image-wide"><a href="$image[32].png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/04/NoSQL-Benchmark/en/resources/NoSQL-benchmark-6.png;jsessionid=C6D665A0AE88CEAB76B45CECE60621FA" _href="img://NoSQL-benchmark-6.png" _p="true" /></a></p> 
<p>The Thumbtack benchmarks contains more results for different cases but were not included here.</p> 
<p><a href="http://www.networkworld.com/news/tech/2012/102212-nosql-263595.html">Another NoSQL benchmark</a> was published in October 2012 when Cassandra, HBase, MongoDB, and Riak were compared. MySQL was also included in those tests for a reference against SQL technologies.</p> 
<p id="lastElm"></p><br><br><br><br><br><br></body></html>