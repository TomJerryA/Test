<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>Xamarin向iOS和Android引入C#异步支持</h3><p>Xamarin引入支持iOS和Android异步开发的库，现在已经发布了一个预览版本。该库主要基于微软的.NET 4.5，而后者是作为Visual Studio 2012的一部分于去年发布的。Xamarin是之前人们所熟知的MonoTouch和Mono for Android开发平台的新名字。</p> 
<p>作为最初的<a href="http://www.infoq.com/news/2013/02/Xamarin-2;jsessionid=1AE2CF00FB904284F9242F6A731874E6">Xamarin 2.0</a>的一部分，该移动平台采用了Mono和.NET中的类库。而之前的MonoTouch和Mono for Android仅限于以Silverlight/Moonlight为基础的一个子集。<a href="http://blog.xamarin.com/brave-new-async-mobile-world/">Rodrigo Kumpera</a>写道：</p> 
<blockquote> 
 <p>尽管异步是该版本的主题，但我们也将这两年来的改进打包到Mono运行时中了，覆盖了目前可支持Android、Mac和iOS用户的超过7000次提交。</p> 
</blockquote> 
<p>该版本也带来了它对iOS脚本批处理编译器的改进。与其他大多数平台不同，iOS不允许以JIT编译方式生成代码。这给动态调用的代码带来了问题，尤其是涉及泛型的时候。</p> 
<blockquote> 
 <p>在iOS上，我们目前为值类型生成“可共享的代码（shareable code）”，这是代码生成技术方面的一项革命性创新。在实践中，这意味着之前会提示“Attempting to JIT compile method”并崩溃的一整段代码现在能够正常工作了。在提供我们所能推断出的高性能、微调过的泛型代码的同时——比如直接调用Foo&lt;T&gt;(T x)方法——我们会为Foo&lt;T&gt;(T x)生成一个值类型的共享版本，可用于之前会失败的动态场景下。曾经的梦想变为了现实。</p> 
</blockquote> 
<p>目前微软的.NET中自有的JIT编译器并没有这种能力。尽管所有引用类型可以共享一个方法，但不同值类型的泛型方法必须重新编译。</p> 
<p>.NET 4.0引入的<a href="http://msdn.microsoft.com/en-us/library/dd799517.aspx">协变和逆变</a>支持也已通过一些方式进入到Xamarin平台。</p> 
<p><b>查看英文原文</b>：<a href="http://www.infoq.com/news/2013/03/async-xamarin;jsessionid=1AE2CF00FB904284F9242F6A731874E6">Xamarin Introduces C# Async for iOS and Android</a></p> 
<p id="lastElm"></p><br><br><br><br><br><br></body></html>