<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>微软发布TX（LINQ To Logs And Traces）</h3><p>微软开源技术公司于近日<a href="http://blogs.msdn.com/b/interoperability/archive/2014/01/06/new-release-tx-linq-to-logs-and-traces.aspx">发布</a>了<a href="http://tx.codeplex.com/">Tx</a>，这是一个开源项目，可以使用日志/跟踪文件辅助调试，以及创建实时监控和告警系统。</p>
<p>下面是几个引人关注的功能——</p>
<ul> 
 <li>允许在原始事件源上使用<a href="http://msdn.microsoft.com/en-us/library/bb397926.aspx">LINQ</a></li> 
 <li>允许在真实事件源上使用“反应式扩展框架（<a href="http://msdn.microsoft.com/en-us/data/gg577609.aspx">Reactive Extensions</a>）”，而且支持事件序列的多路复用（单个包含不同类型事件的序列，其中事件的顺序为其发生顺序）。</li> 
 <li>可以提供跨多个事件源的单一查询，而且用于实时查询和过去历史查询的API相同。</li> 
 <li>可以在历史日志和跟踪文件的一次读中执行多个查询——例如：统计所有的“警告”数、匹配“开始”和“结束”事件，以及计算每个活动的平均时长。</li> 
</ul>
<p>开发人员可以将<a href="http://www.linqpad.net/">LINQPad</a>用于一次性分析，也可以用于构建监控用的.NET应用程序。在LINQPad中，Tx给人一种所有的事件都在数据库中的感觉。</p>
<p>该版本提供了四个不同的NuGet包：</p>
<ul> 
 <li><a href="http://www.nuget.org/packages/Tx.Core/">Tx.Core</a>——不针对特定跟踪格式的通用组件</li> 
 <li><a href="http://www.nuget.org/packages/Tx.Windows/">Tx.Windows</a>——支持Windows上的事件跟踪：事件日志、文件中的性能计数器和实时计数器API、W3C格式的IIS Text日志</li> 
 <li><a href="http://www.nuget.org/packages/Tx.SqlServer/">Tx.SqlServer</a>——SQL Server扩展事件</li> 
 <li><a href="http://www.nuget.org/packages/Tx.All/">Tx.All</a>——包含上述所有内容的套件</li> 
</ul>
<p>请注意，微软也给出了<a href="http://tx.codeplex.com/SourceControl/latest#Doc/WhenToUse.md">什么时候不要用Tx</a>的建议——</p>
<ul> 
 <li>当不存在实时订阅而且数据已经存在于内存中或者<a href="http://tx.codeplex.com/SourceControl/latest#Source/Tx.Windows/IIS/W3CEnumerable.cs">单个容易解析的文件</a>中时，指南建议使用LINQ-To-Objects代替Tx。</li> 
 <li>当存在实时订阅，但每个订阅/文件只包含一种事件类型，只需要使用反应式扩展框架即可。</li> 
</ul>
<p>在微软内部，WCF和服务总线团队已经用了这个工具。现在，微软把它开源给所有的.NET开发人员，以便他们在自己的项目中使用它。读者可以看一下<a href="http://tx.codeplex.com/documentation">入门文档</a>。</p>
<p><b>查看英文原文：</b><b><a href="http://www.infoq.com/news/2014/01/tx-release">LINQ To Logs And Traces</a></b></p><br><br><br><br><br><br></body></html>