<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>MySQL Reference Architectures for Small to Extra Large Websites</h3><p>Oracle has published <a href="http://www.mysql.com/why-mysql/white-papers/mysql-reference-architectures-for-scalable-web-infrastructure/">MySQL Reference Architectures for Massively Scalable Web Infrastructure</a>, a whitepaper outlining recommended topologies for different types and sizes of websites using MySQL for data storage.</p> 
<p>This whitepaper proposes 4 reference architectures for creating websites with MySQL based on their size and availability requirements for 4 different types of services provided: User and Session Management, eCommerce, Analytics (multi-structured data), and CMS (meta-data), as shown in the following table:</p> 
<p class="image-wide"><a href="$image14.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59"><img title="MySQL Types of Websites" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="MySQL Types of Websites" src="http://www.infoq.com/resource/news/2013/03/MySQL-Reference-Architectures/en/resources/MySQL-1.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59" _href="img://MySQL-1.png" _p="true" /></a></p> 
<p>These guidelines are basic recommendations and they need to be adjusted based on read/writes patterns, load balancing and caching mechanisms used, etc.</p> 
<p><strong>Small Web Reference Architecture</strong></p> 
<p>This reference architecture can be used for all small implementations of the four types of websites mentioned before. MySQL Replication can be used to make copies of the data for backup and analytics purposes.</p> 
<p><a href="$image[4].png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/03/MySQL-Reference-Architectures/en/resources/MySQL-2.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59" _href="img://MySQL-2.png" _p="true" /></a></p> 
<p><strong>Medium Web Reference Architecture</strong></p> 
<p>In this case it is recommended to use separate infrastructures for different types of activities, considering that each MySQL instance can serve up to 8 application servers, adding more slave instances if the number of application servers is increased for scalability purposes.</p> 
<p class="image-wide"><a href="/resource/news/2013/03/MySQL-Reference-Architectures/en/resources/MySQL-3.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59" target="_blank"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/03/MySQL-Reference-Architectures/en/resources/MySQL-3.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59" _href="img://MySQL-3.png" _p="true" /></a></p> 
<p><a href="http://en.wikipedia.org/wiki/Linux-HA">Linux Heartbeat</a> along with semi-synchronous replication is used for high availability purposes for session management and eCommerce sites. CMS sites usually have greater needs for scaling out for read operations, the whitepaper recommending adding 20-30 slaves to each MySQL master based on the consideration that each slave can handle up to 3,000 concurrent users. CMS systems could store data in a SAN or on distributed devices attached to each server.</p> 
<p>Memcached is recommended to be used both for session management and CMS sites to relieve the application and MySQL servers from much of their burden.</p> 
<p>The topology for Analytics purposes is simpler, a master with 3 slaves doing the job.</p> 
<p><strong>Large Web Reference Architecture</strong></p> 
<p>For this reference architecture the whitepaper recommends database replication across different data centers using MySQL Geographic Replication which provides asynchronous replication across geographically separated clusters.</p> 
<p class="image-wide"><a href="/resource/news/2013/03/MySQL-Reference-Architectures/en/resources/MySQL-4-XL.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59" target="_blank"><img title="image" style="border-left-width: 0px; border-right-width: 0px; background-image: none; border-bottom-width: 0px; padding-top: 0px; padding-left: 0px; display: inline; padding-right: 0px; border-top-width: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/03/MySQL-Reference-Architectures/en/resources/MySQL-4-XL.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59" width="640" height="375" _href="img://MySQL-4-XL.png" _p="true" /></a></p> 
<p>Session Management and eCommerce sites should use clusters, the paper claiming that with “4 x data nodes, it is possible to support 6,000 sessions (page hits) a second, with each page hit generating 8 – 12 database operations.” Large CMS sites use a configuration similar to medium ones, just having more slaves as necessary. A Data Refinery unit is introduced to clean up and organize the data for analytics purposes.</p> 
<p><strong>Extra Large Web Reference Architecture</strong></p> 
<p>The whitepaper makes recommendations even for social websites stating that MySQL is “deployed in 9 of the top 10 most trafficked sites on the web&nbsp; including Google, Facebook and YouTube,” without saying what those sites are using it for, but it is known that LinkedIn has used MySQL with success.</p> 
<p>Social topology makes use of concepts implemented by medium and large websites including dedicated application servers, memcached, data refinery, but introduces shards to be able to scale out for write operations. MySQL Cluster is used for user authentication and look-up, directing reads and writes to their appropriate shard when “more than one key is used for look-ups.”</p> 
<p class="image-wide"><a href="/resource/news/2013/03/MySQL-Reference-Architectures/en/resources/MySQL-5-XL.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59" target="_blank"><img title="image" style="border-top: 0px; border-right: 0px; background-image: none; border-bottom: 0px; padding-top: 0px; padding-left: 0px; border-left: 0px; display: inline; padding-right: 0px" border="0" alt="image" src="http://www.infoq.com/resource/news/2013/03/MySQL-Reference-Architectures/en/resources/MySQL-5-XL.png;jsessionid=DEFF9FDE224CD26DDA47AA7526BEDF59" width="640" height="405" _href="img://MySQL-5-XL.png" _p="true" /></a></p> 
<p>The recommended specification for both MySQL master and slave servers is:</p> 
<ul> 
 <li>8 – 16 x86-64 bit CPU cores (MySQL 5.5 and above)</li> 
 <li>4 – 8 x86 -64 bit CPU cores (MySQL 5.1 and earlier).</li> 
 <li>3 – 10x more RAM than active data.</li> 
 <li>Linux, Solaris or Windows operating systems.</li> 
 <li>Minimum of 4 x hard disk drives. 8 – 16 disks will increase performance for I/O intensive applications.</li> 
 <li>Hardware RAID with battery-backed cache.</li> 
 <li>RAID 10 recommended. RAID 5 is suitable if the workload is read-intensive.</li> 
 <li>2 x Network Interface Cards and 2 x Power Supply Units for redundancy.</li> 
</ul> 
<p>The whitepaper also includes recommendations for MySQL clusters and data storage devices, plus solutions for monitoring, backup and cluster management.</p> 
<p id="lastElm"></p><br><br><br><br><br><br></body></html>