<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8" /></head><body><h3>演讲预告：大规模运营Redis的经验@京东</h3><p>在2013年的QCon上海云计算分会场，京东云平台首席架构师<a href="http://www.qconbeijing.com/user/710">刘海锋</a>介绍了<a href="http://www.infoq.com/cn/presentations/jingdong-file-system-and-a-unified-data-center-storage">京东自主研发的分布式存储</a> – 京东文件系统(JFS)，以及基于JFS的统一数据中心存储策略。除了分布式存储之外，刘海锋的团队同时也负责开发一套分布式内存存储平台（RAM store platform），这套自主研发的快速分布式KV存储系统可兼容Redis数据类型、提供多租户统一服务、固有的集群模式、弹性可扩展、同步复制协议、常驻但不受限于内存、更强的持久性、更低的运维与硬件成本。</p>
<p>在2014年的QCon北京大会，刘海锋将根据他们开发这套系统的经验，分享大规模运营Redis的经验，自研系统的设计思路，以及京东在数据存储方面的技术体系。InfoQ中文站在会前对刘海锋进行了一次采访，邀请他对存储、Redis等方向分享自己的观点。</p>
<h3>嘉宾简介</h3>
<p>刘海锋（<a href="http://weibo.com/bladehliu">@刘海锋0011</a>），京东系统技术部负责人、云平台首席架构师、以及京东架构委员会负责人。他领导存储、缓存、消息、服务框架团队，致力于打造坚实的系统技术平台，稳定支持京东业务的高速发展。</p>
<p><strong>InfoQ：先谈谈你对存储系统、云存储、文件系统、数据库这一块当前发展趋势的看法吧。</strong></p>
<blockquote> 
 <p>刘海锋：数据量越来越大，业务需求也在增多。互联网业务后台需要不同的数据抽象——object/file/kv/tables……但多租户统一管理、服务化是重要的趋势。比如，给各个业务提供全托管的RDBMS服务、缓存服务、海量非结构数据存取服务，而不是上线一个业务就申请一些机器搭建存储。</p> 
</blockquote>
<p><strong>InfoQ：用内存存储一般都是因为业务对读写性能有极高的要求。京东大规模内存存储平台现在主要服务于哪些业务？这些业务对读写的要求是什么样的？</strong></p>
<blockquote> 
 <p>刘海锋：非常多的在线业务都需要高速的缓存。比如每次京东购物下单、商品价格展示等等。</p> 
</blockquote>
<p><strong>InfoQ：Redis在官网上的定义是“高级KV存储系统”，特点在于速度快、数据结构丰富。你如何定义Redis这套系统？</strong></p>
<blockquote> 
 <p>刘海锋：高质量的开源软件。使用方便，速度快，数据类型丰富。用得最多的是string, hashmap两种。</p> 
</blockquote>
<p><strong>InfoQ：基于Redis进行二次开发的过程中，有哪些需要避开的坑？有哪些是比较好的实践？</strong></p>
<blockquote> 
 <p>刘海锋：Redis是高质量的开源软件。准确地说，是高质量的单机KV内存存储server。但是要大规模应用到生产环境，需要做很多工作来满足公司业务需求。</p> 
 <p>最早是部署使用单个Redis实例，然后主从复制，集群分片，支持presharding的Java客户端，进而完善监控体系、配置中心，逐渐建设了一个平台来统一托管整个公司的Redis集群。</p> 
</blockquote>
<p><strong>InfoQ：Redis持久化如果持续进行磁盘写入会造成进程阻塞，这个问题如何解决？</strong></p>
<blockquote> 
 <p>刘海锋：RDB dump其实是fork出一个子进程做的，写入并不会阻塞父进程。但是fork操作的执行开销较高，会block父进程不能及时响应请求。持久化方式是由各个业务自行选择的，有的选择没有持久化，有的选择AOF，有的是RDB但是dump时间也是设置好的，比如凌晨几点等等。</p> 
</blockquote>
<p><strong>InfoQ：是否研究过目前在Alpha版本的Redis Cluster，有什么发现？</strong></p>
<blockquote> 
 <p>刘海锋：当然调研和测试过Redis Cluster，现在还不是production ready，所以我们在按照自己的方式搞定集群模式。</p> 
</blockquote>
<p><strong>InfoQ：对于京东内存存储平台，下一步的开发计划是什么？</strong></p>
<blockquote> 
 <p>刘海锋：从今年年初开始，我们团队正在研发和实施京东的下一代内存存储平台 - JimStore。简单地说，JimStore自主研发的分布式系统（dataserver基于Redis），实现多租户统一管理的、弹性扩展的Redis集群。</p> 
 <p>技术方面，分步骤做了一些事情：</p> 
 <p>通过分布式选举做精确的故障检测；自动的故障切换；增加磁盘存储，较冷数据会淘汰至磁盘，这样单实例就支持更大的数据量；自主研发集群模式，实现容量的透明扩展；整个平台多租户服务。</p> 
</blockquote>
<p>距第六届QCon全球软件开发大会（北京站）2014开幕仅剩一个半月，大会演讲嘉宾已经几近确认完毕。大会的演讲内容在官网：<a href="http://www.qconbeijing.com/">http://www.qconbeijing.com</a>，以及InfoQ微博、微信公众帐号的最新播报：<a href="http://weibo.com/infoqchina">@InfoQ</a>、【infoqchina】不断更新。大会9折折扣期将在本月26日截止。如欲报名报请速点击<a href="http://qconbeijing.mymova.com/">报名页面</a>。</p><br><br><br><br><br><br></body></html>